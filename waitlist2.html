<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mockly - AI-Powered Interview Practice</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="styles2.css" rel="stylesheet">
</head>
<body>
    <!-- Header -->
    <header>
        <nav>
            <a href="#" class="logo">
                <i class="fas fa-brain"></i>
                Mockly
            </a>
            <ul class="nav-links">
                <li><a href="#features">Features</a></li>
                <li><a href="#about">Demo</a></li>
                <li><a href="#faq">FAQs</a></li>
            </ul>
            <a href="#" class="nav-cta" id="nav-cta">
                Try Demo
            </a>
        </nav>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-content">
            <div class="hero-badge">
                <i class="fas fa-sparkles"></i>
                AI-Powered Interview Coaching
            </div>
            <h1>
                Make Every<br>
                Answer <span class="gradient-text">Unforgettable</span>.
            </h1>
            <p>
                Get real-time feedback on your behavioral interview responses using advanced AI analysis that tracks your voice, eyes, and gestures. Master the STAR method and land your dream job with confidence.
            </p>
            <div class="waitlist-form animate-on-scroll">
                <form id="waitlist-signup" class="signup-form" novalidate>
                                                    <div class="form-group">
                                    <label for="email" class="sr-only">Email address</label>
                                    <input 
                                        type="email" 
                                        id="email" 
                                        name="email"
                                        placeholder="Enter your .edu email for student discount"
                                        required
                                        autocomplete="off"
                                        aria-describedby="email-error email-success"
                                    >
                                    <i class="fas fa-times-circle validation-icon error" aria-hidden="true"></i>
                                    <i class="fas fa-check-circle validation-icon success" aria-hidden="true"></i>
                                    <i class="fas fa-spinner validation-icon validating" aria-hidden="true"></i>
                                    <div class="validation-progress"></div>
                                    <div class="validation-tooltip">Enter a valid .edu email for student discount</div>
                                    
                                    <div id="email-error" class="error-message" role="alert" aria-live="polite">
                                        <i class="fas fa-exclamation-triangle"></i>
                                        <span class="error-text"></span>
                                    </div>
                                    
                                    <div id="email-success" class="success-message" role="status" aria-live="polite">
                                        <i class="fas fa-check-circle"></i>
                                        <span class="success-text"></span>
                                    </div>
                                    
                                    <div class="email-strength">
                                        <span class="strength-text">Email validation:</span>
                                        <div class="strength-indicator">
                                            <div class="strength-dot" data-check="format"></div>
                                            <div class="strength-dot" data-check="domain"></div>
                                            <div class="strength-dot" data-check="edu"></div>
                                        </div>
                                    </div>
                                    
                                    <button type="submit" class="waitlist-btn" id="submit-btn">
                                        <span class="btn-text">Join the Waitlist</span>
                                        <i class="fas fa-rocket btn-icon" aria-hidden="true"></i>
                                    </button>
                                </div>
                    <div class="form-benefits">
                        <div class="benefit-item">
                            <i class="fas fa-percent" aria-hidden="true"></i>
                            <span>25% Pro discount</span>
                        </div>
                        <div class="benefit-item">
                            <i class="fas fa-percent" aria-hidden="true"></i>
                            <span>50% Pro discount for students</span>
                        </div>
                    </div>
                </form>
                <div class="waitlist-stats" role="status" aria-live="polite">
                    <span id="waitlist-count">547</span> students already joined • Only <span class="urgency-text">53 spots left</span> for early access
                </div>
            </div>
            
        </div>
    </section>

    <!-- Features Section -->
    <section class="features" id="features">
        <div class="features-container">
            <div class="section-header animate-on-scroll">
                <div class="section-eyebrow">Advanced AI Technology</div>
                <h2 class="section-title">Built for success</h2>
                <p class="section-description">
                    Experience intelligent interview coaching that adapts to your unique style and provides personalized feedback for continuous improvement.
                </p>
            </div>
            
            <div class="features-grid">
                <div class="feature-card animate-on-scroll star-feature">
                    <div class="feature-icon">
                        <i class="fas fa-star"></i>
                    </div>
                    <h3>STAR Method Analysis</h3>
                    <p>Advanced AI evaluates your responses using the proven STAR framework, providing detailed feedback on each component for maximum impact.</p>
                </div>
                
                <div class="feature-card animate-on-scroll">
                    <div class="feature-icon">
                        <i class="fas fa-video"></i>
                    </div>
                    <h3>Real-Time Practice</h3>
                    <p>Record yourself answering questions and receive instant transcription and analysis. See yourself as interviewers see you.</p>
                </div>
                
                <div class="feature-card animate-on-scroll">
                    <div class="feature-icon">
                        <i class="fas fa-chart-line"></i>
                    </div>
                    <h3>Instant Feedback</h3>
                    <p>Get comprehensive scoring and actionable improvement suggestions immediately after each practice session.</p>
                </div>
                
                <div class="feature-card animate-on-scroll">
                    <div class="feature-icon">
                        <i class="fas fa-brain"></i>
                    </div>
                    <h3>AI-Powered Insights</h3>
                    <p>Leverage cutting-edge artificial intelligence to identify patterns in your responses and unlock your full potential.</p>
                </div>
                
                <div class="feature-card animate-on-scroll">
                    <div class="feature-icon">
                        <i class="fas fa-shield-alt"></i>
                    </div>
                    <h3>Privacy First</h3>
                    <p>Your practice sessions are completely private and secure. We prioritize your data protection above all else.</p>
                </div>
                
                <div class="feature-card animate-on-scroll">
                    <div class="feature-icon">
                        <i class="fas fa-trophy"></i>
                    </div>
                    <h3>Proven Results</h3>
                    <p>Join thousands of professionals who have transformed their interview success with our AI-powered coaching platform.</p>
                </div>
            </div>
        </div>
    </section>
    <!-- Social Proof Section -->
    <section class="social-proof section">
        <div class="container">
            <div class="section-header animate-on-scroll">
                <h2 class="section-title">Join students landing their dream internships</h2>
                <p class="section-description">See how fellow students transformed their interview game and landed offers at top tech companies</p>
            </div>
            
            <div class="testimonials-grid">
                <article class="testimonial-card animate-on-scroll">
                    <div class="testimonial-content">
                        <p>"Finally passed Google's behavioral round after failing it twice. The AI feedback was a game-changer!"</p>
                    </div>
                    <div class="testimonial-author">
                        <div class="author-avatar" aria-hidden="true">AK</div>
                        <div class="author-info">
                            <h4>Alex Kim</h4>
                            <span>CS Senior, UC Berkeley → Google SWE Intern</span>
                        </div>
                    </div>
                </article>
                
                <article class="testimonial-card animate-on-scroll">
                    <div class="testimonial-content">
                        <p>"Landed 4 internship offers using Mockly's STAR framework. Worth every penny of my coffee budget!"</p>
                    </div>
                    <div class="testimonial-author">
                        <div class="author-avatar" aria-hidden="true">SM</div>
                        <div class="author-info">
                            <h4>Sarah Martinez</h4>
                            <span>Bootcamp Grad → Meta Frontend Intern</span>
                        </div>
                    </div>
                </article>
                
                <article class="testimonial-card animate-on-scroll">
                    <div class="testimonial-content">
                        <p>Went from bombing every 'tell me about a time' question to confidently nailing behavioral rounds."</p>
                    </div>
                    <div class="testimonial-author">
                        <div class="author-avatar" aria-hidden="true">JL</div>
                        <div class="author-info">
                            <h4>Jordan Liu</h4>
                            <span>CS Junior, Stanford → Amazon SDE Intern</span>
                        </div>
                    </div>
                </article>
            </div>

            <!-- Partner Logos -->
            <div class="partner-logos animate-on-scroll">
                <p class="partners-text">Trusted by students from:</p>
                <div class="logos-container">
                    <div class="logo-placeholder">UC Berkeley</div>
                    <div class="logo-placeholder">Stanford</div>
                    <div class="logo-placeholder">MIT</div>
                    <div class="logo-placeholder">Carnegie Mellon</div>
                    <div class="logo-placeholder">Georgia Tech</div>
                </div>
            </div>
        </div>
    </section>
    <!-- Demo Section 
    <section class="demo" id="demo">
        <div class="demo-container">
            <h2>See the future of interview prep</h2>
            <p>Experience intelligent coaching that evolves with you</p>
            
            <div class="demo-preview">
                <div class="demo-content">
                    <i class="fas fa-play-circle"></i>
                    <h3>Interactive Demo</h3>
                    <p>Try our MVP and experience the power of AI-driven interview coaching</p>
                </div>
            </div>
            
            <a href="#" class="demo-button" id="demo-cta">
                <i class="fas fa-rocket"></i>
                Launch Demo
            </a>
        </div>
    </section>
    -->
    <!-- FAQ Section -->
    <section class="faq-section section" id="faq">
        <div class="container">
            <div class="section-header animate-on-scroll">
                <h2 class="section-title">Frequently Asked Questions</h2>
                <p class="section-description">Everything you need to know about joining the waitlist</p>
            </div>
            
            <div class="faq-accordion">
                <div class="faq-item animate-on-scroll">
                    <button class="faq-question" aria-expanded="false" aria-controls="faq-1">
                        <span>When will Mockly launch?</span>
                        <i class="fas fa-chevron-down" aria-hidden="true"></i>
                    </button>
                    <div class="faq-answer" id="faq-1">
                        <p>We're launching in early 2024! Waitlist members will get 48-hour early access before our public launch. The countdown timer above shows our current launch target.</p>
                    </div>
                </div>
                
                <div class="faq-item animate-on-scroll">
                    <button class="faq-question" aria-expanded="false" aria-controls="faq-2">
                        <span>What exactly do I get by joining the waitlist?</span>
                        <i class="fas fa-chevron-down" aria-hidden="true"></i>
                    </button>
                    <div class="faq-answer" id="faq-2">
                        <p>Waitlist members receive: 48-hour early access, 50% discount on lifetime plans, exclusive beta features, priority customer support, and first access to new features as we roll them out.</p>
                    </div>
                </div>
                
                <div class="faq-item animate-on-scroll">
                    <button class="faq-question" aria-expanded="false" aria-controls="faq-3">
                        <span>How much will Mockly cost?</span>
                        <i class="fas fa-chevron-down" aria-hidden="true"></i>
                    </button>
                    <div class="faq-answer" id="faq-3">
                        <p>Our standard pricing will be $29/month or $199/year. However, the first 500 waitlist members get a lifetime 50% discount, making it just $99/year forever.</p>
                    </div>
                </div>
                
                <div class="faq-item animate-on-scroll">
                    <button class="faq-question" aria-expanded="false" aria-controls="faq-4">
                        <span>Is my data secure on the waitlist?</span>
                        <i class="fas fa-chevron-down" aria-hidden="true"></i>
                    </button>
                    <div class="faq-answer" id="faq-4">
                        <p>Absolutely. We only collect your email address for launch notifications. We never share your data with third parties and you can unsubscribe at any time. Your privacy is our top priority.</p>
                    </div>
                </div>
                
                <div class="faq-item animate-on-scroll">
                    <button class="faq-question" aria-expanded="false" aria-controls="faq-5">
                        <span>Can I try Mockly before the official launch?</span>
                        <i class="fas fa-chevron-down" aria-hidden="true"></i>
                    </button>
                    <div class="faq-answer" id="faq-5">
                        <p>Yes! Select waitlist members will be invited to our closed beta testing program starting next month. Beta testers get to try all features for free and help shape the final product.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- Final CTA -->
    <section class="final-cta section">
        <div class="container">
            <div class="cta-content animate-on-scroll">
                <h2>Don't graduate without interview confidence</h2>
                <p>Join <span id="final-count">547</span> students who are getting ready to ace their interviews</p>
                <div class="waitlist-form animate-on-scroll">
                    <form id="final-waitlist-signup" class="signup-form" novalidate>
                        <div class="form-group">
                            <label for="final-email" class="sr-only">Email address</label>
                            <input 
                                type="email" 
                                id="final-email"
                                name="email"
                                placeholder="Enter your .edu email for student discount"
                                required
                                autocomplete="off"
                                aria-describedby="final-email-error final-email-success"
                            >
                            <i class="fas fa-times-circle validation-icon error" aria-hidden="true"></i>
                            <i class="fas fa-check-circle validation-icon success" aria-hidden="true"></i>
                            <i class="fas fa-spinner validation-icon validating" aria-hidden="true"></i>
                            <div class="validation-progress"></div>
                            <div class="validation-tooltip">Enter a valid .edu email for student discount</div>
                            
                            <div id="final-email-error" class="error-message" role="alert" aria-live="polite">
                                <i class="fas fa-exclamation-triangle"></i>
                                <span class="error-text"></span>
                            </div>
                            
                            <div id="final-email-success" class="success-message" role="status" aria-live="polite">
                                <i class="fas fa-check-circle"></i>
                                <span class="success-text"></span>
                            </div>
                            
                            <div class="email-strength">
                                <span class="strength-text">Email validation:</span>
                                <div class="strength-indicator">
                                    <div class="strength-dot" data-check="format"></div>
                                    <div class="strength-dot" data-check="domain"></div>
                                    <div class="strength-dot" data-check="edu"></div>
                                </div>
                            </div>
                            
                            <button type="submit" class="waitlist-btn" id="final-submit-btn">
                                <span class="btn-text">Secure My Spot</span>
                                <i class="fas fa-rocket btn-icon" aria-hidden="true"></i>
                            </button>
                        </div>
                        <div class="form-benefits">
                            <div class="benefit-item">
                                <i class="fas fa-percent" aria-hidden="true"></i>
                                <span>25% Pro discount</span>
                            </div>
                            <div class="benefit-item">
                                <i class="fas fa-percent" aria-hidden="true"></i>
                                <span>50% Pro discount for students</span>
                            </div>
                        </div>
                    </form>
                </div>
                <p class="security-note">
                    <i class="fas fa-shield-alt" aria-hidden="true"></i>
                    Student-only pricing. No spam, just interview wins.
                </p>
            </div>
        </div>
    </section>
    
    <!-- Footer -->
    <footer class="site-footer">
        <div class="container">
            <div class="footer-content">
                <p class="built-by">
                    Built with <span class="heart">❤️</span> by students at 
                    <span class="university">CMU</span>, 
                    <span class="university">Caltech</span>, 
                    <span class="university">UT Austin</span>
                </p>
            </div>
        </div>
    </footer>
    
    <!-- Thank You Popup Modal -->
    <div id="thankYouModal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <i class="fas fa-check-circle success-icon"></i>
                <h2>Thank You!</h2>
            </div>
            <div class="modal-body">
                <p>You've successfully joined the waitlist!</p>
                <p>We'll send updates to:</p>
                <div class="email-display">
                    <i class="fas fa-envelope"></i>
                    <span id="confirmedEmail"></span>
                </div>
                <p class="modal-note">Check your email for confirmation and exclusive updates.</p>
            </div>
            <div class="modal-footer">
                <button class="modal-close-btn" onclick="closeThankYouModal()">
                    <span>Got it!</span>
                    <i class="fas fa-arrow-right"></i>
                </button>
            </div>
        </div>
    </div>
    
    <style>
        /* Modal Styles */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 10000;
            display: flex;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(5px);
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .modal-overlay.show {
            opacity: 1;
        }
        
        .modal-content {
            background: white;
            border-radius: 16px;
            max-width: 400px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            transform: scale(0.8) translateY(20px);
            transition: transform 0.3s ease, opacity 0.3s ease;
        }
        
        .modal-overlay.show .modal-content {
            transform: scale(1) translateY(0);
        }
        
        .modal-header {
            text-align: center;
            padding: 2rem 2rem 1rem;
            border-bottom: 1px solid #f0f0f0;
        }
        
        .success-icon {
            color: #10b981;
            font-size: 3rem;
            margin-bottom: 1rem;
            animation: bounceIn 0.6s ease;
        }
        
        @keyframes bounceIn {
            0% {
                transform: scale(0.3);
                opacity: 0;
            }
            50% {
                transform: scale(1.05);
            }
            70% {
                transform: scale(0.9);
            }
            100% {
                transform: scale(1);
                opacity: 1;
            }
        }
        
        .modal-header h2 {
            margin: 0;
            color: #1f2937;
            font-size: 1.5rem;
            font-weight: 600;
        }
        
        .modal-body {
            padding: 1.5rem 2rem;
            text-align: center;
        }
        
        .modal-body p {
            color: #6b7280;
            margin-bottom: 1rem;
            line-height: 1.6;
        }
        
        .email-display {
            background: #f8fafc;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            padding: 1rem;
            margin: 1.5rem 0;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            font-weight: 500;
            color: #1f2937;
        }
        
        .email-display i {
            color: #6366f1;
        }
        
        .modal-note {
            font-size: 0.9rem;
            color: #9ca3af;
            margin-top: 1rem;
        }
        
        .modal-footer {
            padding: 1rem 2rem 2rem;
            text-align: center;
        }
        
        .modal-close-btn {
            background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
            color: white;
            border: none;
            padding: 0.75rem 2rem;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 1rem;
        }
        
        .modal-close-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(99, 102, 241, 0.4);
        }
        
        .modal-close-btn:active {
            transform: translateY(0);
        }
        
        /* Responsive modal */
        @media (max-width: 480px) {
            .modal-content {
                width: 95%;
                margin: 1rem;
            }
            
            .modal-header,
            .modal-body,
            .modal-footer {
                padding-left: 1.5rem;
                padding-right: 1.5rem;
            }
        }
        
        /* Footer Styles */
        .site-footer {
            background: #f8fafc;
            border-top: 1px solid #e5e7eb;
            padding: 2rem 0;
            margin-top: 4rem;
        }
        
        .footer-content {
            text-align: center;
        }
        
        .built-by {
            color: #6b7280;
            font-size: 0.9rem;
            margin: 0;
            font-weight: 500;
        }
        
        .heart {
            color: #ef4444;
            font-size: 1rem;
            animation: heartbeat 2s ease-in-out infinite;
            display: inline-block;
        }
        
        .university {
            color: #374151;
            font-weight: 600;
            position: relative;
        }
        
        .university:hover {
            color: #6366f1;
            transition: color 0.3s ease;
        }
        
        @keyframes heartbeat {
            0% {
                transform: scale(1);
            }
            14% {
                transform: scale(1.1);
            }
            28% {
                transform: scale(1);
            }
            42% {
                transform: scale(1.1);
            }
            70% {
                transform: scale(1);
            }
        }
        
        /* Responsive footer */
        @media (max-width: 640px) {
            .site-footer {
                padding: 1.5rem 0;
                margin-top: 2rem;
            }
            
            .built-by {
                font-size: 0.85rem;
                line-height: 1.6;
            }
        }
    </style>
    
    <script>
        // Modal functions
        function showThankYouModal(email) {
            const modal = document.getElementById('thankYouModal');
            const emailDisplay = document.getElementById('confirmedEmail');
            
            emailDisplay.textContent = email;
            modal.style.display = 'flex';
            
            // Force reflow and add show class for animation
            setTimeout(() => {
                modal.classList.add('show');
            }, 10);
        }
        
        function closeThankYouModal() {
            const modal = document.getElementById('thankYouModal');
            modal.classList.remove('show');
            
            setTimeout(() => {
                modal.style.display = 'none';
            }, 300);
        }
        
        // Close modal when clicking outside
        document.addEventListener('click', function(e) {
            const modal = document.getElementById('thankYouModal');
            if (e.target === modal) {
                closeThankYouModal();
            }
        });
        
        // Close modal with Escape key
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                closeThankYouModal();
            }
        });
        
        // Smooth scrolling for navigation links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Scroll animations
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                }
            });
        }, observerOptions);

        document.querySelectorAll('.animate-on-scroll').forEach(el => {
            observer.observe(el);
        });

        // Header scroll effect
        window.addEventListener('scroll', () => {
            const header = document.querySelector('header');
            if (window.scrollY > 100) {
                header.style.background = 'rgba(255, 255, 255, 0.95)';
                header.style.borderBottomColor = 'rgba(0, 0, 0, 0.12)';
            } else {
                header.style.background = 'rgba(249, 250, 251, 0.8)';
                header.style.borderBottomColor = 'rgba(0, 0, 0, 0.08)';
            }
        });

        // CTA button clicks - redirect to MVP
        const mainCta = document.getElementById('main-cta');
        if (mainCta) {
            mainCta.addEventListener('click', (e) => {
                e.preventDefault();
                // Replace with your actual MVP URL
                window.open('https://app.mockly.pro', '_blank');
            });
        }

        const demoCta = document.getElementById('demo-cta');
        if (demoCta) {
            demoCta.addEventListener('click', (e) => {
                e.preventDefault();
                // Replace with your actual MVP URL
                window.open('https://app.mockly.pro', '_blank');
            });
        }

        const navCta = document.getElementById('nav-cta');
        if (navCta) {
            navCta.addEventListener('click', (e) => {
                e.preventDefault();
                // Replace with your actual MVP URL
                window.open('https://app.mockly.pro', '_blank');
            });
        }

        // Enhanced interaction effects
        document.querySelectorAll('.feature-card').forEach(card => {
            card.addEventListener('mouseenter', () => {
                card.style.transform = 'translateY(-8px)';
                card.style.boxShadow = '0 12px 40px rgba(0, 0, 0, 0.15)';
            });
            
            card.addEventListener('mouseleave', () => {
                card.style.transform = 'translateY(0)';
                card.style.boxShadow = '';
            });
        });

        // Staggered animation for feature cards
        const featureCards = document.querySelectorAll('.feature-card');
        featureCards.forEach((card, index) => {
            card.style.transitionDelay = `${index * 0.1}s`;
        });

        // FAQ Accordion functionality
        document.querySelectorAll('.faq-question').forEach(question => {
            question.addEventListener('click', () => {
                const faqItem = question.closest('.faq-item');
                const answer = faqItem.querySelector('.faq-answer');
                const isExpanded = question.getAttribute('aria-expanded') === 'true';
                
                // Close all other FAQ items
                document.querySelectorAll('.faq-item').forEach(item => {
                    if (item !== faqItem) {
                        const otherQuestion = item.querySelector('.faq-question');
                        const otherAnswer = item.querySelector('.faq-answer');
                        otherQuestion.setAttribute('aria-expanded', 'false');
                        otherAnswer.classList.remove('active');
                        item.classList.remove('active');
                    }
                });
                
                // Toggle current item
                if (isExpanded) {
                    question.setAttribute('aria-expanded', 'false');
                    answer.classList.remove('active');
                    faqItem.classList.remove('active');
                } else {
                    question.setAttribute('aria-expanded', 'true');
                    answer.classList.add('active');
                    faqItem.classList.add('active');
                }
            });
        });

        // Enhanced Email Validation System
        class EmailValidator {
            constructor() {
                this.emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                this.eduRegex = /^[^\s@]+@[^\s@]+\.edu$/;
                this.commonDomains = ['gmail.com', 'yahoo.com', 'outlook.com', 'hotmail.com'];
                this.validationTimer = null;
            }

                         validateEmail(email) {
                 console.log('Validating email:', email); // Debug log
                 
                 const validation = {
                     isValid: false,
                     isEdu: false,
                     hasValidFormat: false,
                     hasValidDomain: false,
                     errors: [],
                     suggestions: []
                 };

                 // Check format
                 if (this.emailRegex.test(email)) {
                     validation.hasValidFormat = true;
                     
                     // Check domain
                     const domain = email.split('@')[1];
                     if (domain && domain.length > 1) {
                         validation.hasValidDomain = true;
                         
                         // Check for .edu
                         if (this.eduRegex.test(email)) {
                             validation.isEdu = true;
                         }
                     }
                 }

                 // Generate errors and suggestions
                 if (!validation.hasValidFormat) {
                     validation.errors.push('Please enter a valid email format');
                 } else if (!validation.hasValidDomain) {
                     validation.errors.push('Please enter a valid domain');
                 } else if (!validation.isEdu && email.includes('@')) {
                     validation.suggestions.push('Use your .edu email for student discount');
                 }

                 validation.isValid = validation.hasValidFormat && validation.hasValidDomain;
                 console.log('Validation result:', validation); // Debug log
                 return validation;
             }

                         updateStrengthIndicator(validation, container) {
                 const dots = container.querySelectorAll('.strength-dot');
                 
                 // If there's any validation error, set all dots to 0 (inactive)
                 if (!validation.isValid) {
                     dots.forEach(dot => {
                         dot.classList.remove('active', 'error');
                     });
                     return;
                 }
                 
                 // Only show progress if email is valid
                 // Format check
                 if (validation.hasValidFormat) {
                     dots[0].classList.add('active');
                     dots[0].classList.remove('error');
                 } else {
                     dots[0].classList.remove('active', 'error');
                 }

                 // Domain check
                 if (validation.hasValidDomain) {
                     dots[1].classList.add('active');
                     dots[1].classList.remove('error');
                 } else {
                     dots[1].classList.remove('active', 'error');
                 }

                 // .edu check (optional - shows progress but not error)
                 if (validation.isEdu) {
                     dots[2].classList.add('active');
                     dots[2].classList.remove('error');
                 } else {
                     dots[2].classList.remove('active', 'error');
                 }
             }

                         showValidationMessage(type, message, container) {
                 console.log('Showing validation message:', type, message); // Debug log
                 
                 const errorEl = container.querySelector('.error-message');
                 const successEl = container.querySelector('.success-message');

                 if (type === 'error') {
                     errorEl.querySelector('.error-text').textContent = message;
                     errorEl.classList.add('show');
                     successEl.classList.remove('show');
                 } else if (type === 'success') {
                     successEl.querySelector('.success-text').textContent = message;
                     successEl.classList.add('show');
                     errorEl.classList.remove('show');
                 } else {
                     errorEl.classList.remove('show');
                     successEl.classList.remove('show');
                 }
             }
        }

        const validator = new EmailValidator();
        console.log('EmailValidator initialized:', validator); // Debug log

                 // Enhanced form validation for main waitlist form
         function setupFormValidation(formId, emailId) {
             const form = document.getElementById(formId);
             const email = document.getElementById(emailId);
             
             if (!form || !email) {
                 console.error('Form or email element not found:', formId, emailId);
                 return;
             }
             
             const formGroup = email.closest('.form-group');
             const submitBtn = form.querySelector('button[type="submit"]');
             
             if (!formGroup || !submitBtn) {
                 console.error('Form group or submit button not found for:', formId);
                 return;
             }
             
             let validationTimeout;
             let hasBeenTouched = false;
             let hasBeenBlurred = false;

             // Track when user starts interacting
             email.addEventListener('focus', function() {
                 hasBeenTouched = true;
             });

             // Track when user leaves the field
             email.addEventListener('blur', function() {
                 if (hasBeenTouched) {
                     hasBeenBlurred = true;
                     // Validate on blur only if user has typed something
                     if (email.value.length > 0) {
                         validateField();
                     }
                 }
             });

             function validateField() {
                 clearTimeout(validationTimeout);
                 
                 // Clear previous states
                 email.classList.remove('error', 'success', 'validating');
                 
                 if (email.value.length > 0) {
                     // Show validating state
                     email.classList.add('validating');
                     
                     // Debounce validation
                     validationTimeout = setTimeout(() => {
                         const validation = validator.validateEmail(email.value);
                         
                         email.classList.remove('validating');
                         
                         if (validation.isValid) {
                             email.classList.add('success');
                             
                             if (validation.isEdu) {
                                 validator.showValidationMessage('success', 'Perfect! You\'ll get student pricing', formGroup);
                             } else {
                                 validator.showValidationMessage('success', 'Valid email - consider using .edu for discount', formGroup);
                             }
                         } else if (hasBeenBlurred || hasBeenTouched) {
                             // Only show errors after user has interacted and left the field
                             email.classList.add('error');
                             const errorMessage = validation.errors[0] || 'Please enter a valid email address';
                             validator.showValidationMessage('error', errorMessage, formGroup);
                         }
                         
                         // Update strength indicator if present
                         if (formGroup.querySelector('.strength-indicator')) {
                             validator.updateStrengthIndicator(validation, formGroup);
                         }
                     }, 300);
                 } else {
                     // Clear messages when field is empty
                     validator.showValidationMessage('clear', '', formGroup);
                     
                     // Reset strength indicator when empty
                     if (formGroup.querySelector('.strength-indicator')) {
                         formGroup.querySelectorAll('.strength-dot').forEach(dot => {
                             dot.classList.remove('active', 'error');
                         });
                     }
                 }
             }

             // Real-time validation on input (but more conservative)
             email.addEventListener('input', function() {
                 // Only validate in real-time if user has already blurred the field at least once
                 if (hasBeenBlurred && email.value.length > 2) {
                     validateField();
                 } else if (email.value.length === 0) {
                     // Clear everything when empty
                     email.classList.remove('error', 'success', 'validating');
                     validator.showValidationMessage('clear', '', formGroup);
                     
                     if (formGroup.querySelector('.strength-indicator')) {
                         formGroup.querySelectorAll('.strength-dot').forEach(dot => {
                             dot.classList.remove('active', 'error');
                         });
                     }
                 }
             });

            // Enhanced form submission
            form.addEventListener('submit', function(e) {
                e.preventDefault();
                console.log('Form submitted with email:', email.value); // Debug log
                
                const validation = validator.validateEmail(email.value);
                console.log('Email validation result:', validation); // Debug log
                
                if (!validation.isValid) {
                    email.classList.add('error');
                    email.focus();
                    
                    // Show error message on submit
                    const errorMessage = validation.errors[0] || 'Please enter a valid email address';
                    validator.showValidationMessage('error', errorMessage, formGroup);
                    
                    // Update strength indicator
                    if (formGroup.querySelector('.strength-indicator')) {
                        validator.updateStrengthIndicator(validation, formGroup);
                    }
                    
                    // Animate form to show error
                    form.style.animation = 'shake 0.5s ease-in-out';
                    setTimeout(() => {
                        form.style.animation = '';
                    }, 500);
                    
                    return;
                }
                
                // Show loading state
                submitBtn.classList.add('loading');
                email.disabled = true;
                
                // Send email to Formspree
                fetch('https://formspree.io/f/mdkdnoag', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        email: email.value,
                        isEdu: validation.isEdu,
                        source: formId,
                        timestamp: new Date().toISOString()
                    })
                })
                .then(response => response.json())
                .then(data => {
                    // Success state
                    submitBtn.classList.remove('loading');
                    email.disabled = false;
                    
                    // Show thank you popup with the email
                    showThankYouModal(email.value);
                    
                    // Reset form immediately after showing popup
                    setTimeout(() => {
                        email.value = '';
                        email.classList.remove('success', 'error');
                        validator.showValidationMessage('clear', '', formGroup);
                        
                        // Reset strength indicator
                        if (formGroup.querySelector('.strength-indicator')) {
                            formGroup.querySelectorAll('.strength-dot').forEach(dot => {
                                dot.classList.remove('active', 'error');
                            });
                        }
                    }, 500);
                })
                .catch(error => {
                    console.error('Error:', error);
                    submitBtn.classList.remove('loading');
                    email.disabled = false;
                    validator.showValidationMessage('error', 'Something went wrong. Please try again.', formGroup);
                });
            });
        }



        // Initialize everything when DOM is ready
        document.addEventListener('DOMContentLoaded', function() {
            console.log('DOM loaded, initializing form validation...'); // Debug log
            
            // Initialize main form validation
            try {
                setupFormValidation('waitlist-signup', 'email');
                console.log('Main form validation initialized'); // Debug log
            } catch (error) {
                console.error('Error initializing main form:', error);
            }
            
            // Initialize final form validation
            try {
                setupFormValidation('final-waitlist-signup', 'final-email');
                console.log('Final form validation initialized'); // Debug log
            } catch (error) {
                console.error('Error initializing final form:', error);
            }
            
            // Add paste event handling for better UX
            document.querySelectorAll('input[type="email"]').forEach(input => {
                input.addEventListener('paste', function(e) {
                    setTimeout(() => {
                        input.dispatchEvent(new Event('input'));
                    }, 10);
                });
            });

            // Add keyboard shortcuts
            document.addEventListener('keydown', function(e) {
                if (e.ctrlKey && e.key === 'Enter') {
                    const activeEmail = document.activeElement;
                    if (activeEmail.type === 'email') {
                        const form = activeEmail.closest('form');
                        if (form) {
                            form.requestSubmit();
                        }
                    }
                }
            });
        });
    </script>
</body>
</html>